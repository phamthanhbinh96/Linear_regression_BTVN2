# -*- coding: utf-8 -*-
"""Linear_regression_2.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1WAgEBbY_l3OVU0u1MHs1-XB8RSFsjUIA
"""

# -*- coding: utf-8 -*-
"""Linear_regression_2.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1sBtDgPW5Uw5zQJmVIAB6NJW2WqjrdiXX
"""

from google.colab import drive
drive.mount('/content/drive')

import re
import os
import warnings
import numpy as np
import matplotlib.pyplot as plt

from pandas import DataFrame, read_csv
from scipy.stats.stats import pearsonr 

from sklearn import linear_model
clf = linear_model.LinearRegression()

# đọc file bottle.csv
bottle = read_csv('/content/drive/My Drive/bottle/bottle.csv',usecols=['Depth_ID', 'Depthm', 'Salnty','T_degC'])
bottle.fillna(method='ffill', inplace=True)
bottle.dropna(inplace=True)
bottle = bottle.drop(columns="Depth_ID")
bottle = bottle.head(1000)

#mô tả dữ liệu
parameters = ['T_degC', 'Depthm']
objective  = 'Salnty'

x_real = bottle[parameters]
y_real = bottle[objective]

plt.scatter(x_real[parameters[0]], x_real[parameters[1]])
plt.xlabel(parameters[0])
plt.ylabel(parameters[1])

plt.figure()
plt.scatter(x_real[parameters[0]], y_real)
plt.xlabel(parameters[0])
plt.ylabel(objective)

plt.figure()
plt.scatter(x_real[parameters[1]], y_real)
plt.xlabel(parameters[1])
plt.ylabel(objective)


# import sklearn.linear_model.LinearRegression 
from sklearn import linear_model
clf = linear_model.LinearRegression()

# input
X = x_real.values
 
# output
Y = y_real.values

# linear regression model
clf.fit(X, Y)

# He so hoi quy
print('He so:', clf.coef_)

# Sai số
print('Sai so:', clf.intercept_)

# Score
print('Do chinh xac:', clf.score(X, Y))


# sử dụng package matplotlib
import matplotlib.pyplot as plt
 
depth = float(input("Input depth="))
degC  = float(input("Input degC="))
print('predict=', clf.predict([[depth, degC]]))
